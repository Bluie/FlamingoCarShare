{% extends 'base.html' %}
{% load static %}

{% block title %}Home{% endblock %}

{% block content %}


	<div class="container">

		<div class="row">
			<div class="col-sm-6">
				<div id="map" style="height: 400px;"></div>
			</div>

			<div class="col-sm-6 text-center" style="padding-top:4%;">
				<button type="button" class="btn btn-primary btn-lg btn-block" style="background-color:#ff3399">Register</button>
				<button type="button" class="btn btn-default btn-lg btn-block" style="margin-top:3%">Sign In</button>
		
				<h5> "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore 
				magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. 
				Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, 
				sunt in culpa qui officia deserunt mollit anim id est laborum."</h5>
				
				<h5> "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore 
				magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. 
				Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, 
				sunt in culpa qui officia deserunt mollit anim id est laborum."</h5>
				

			</div>
		</div>
	</div>

	<script>
		var infoWindow;
		function initMap() {
			// The starting map
			var map = new google.maps.Map(document.getElementById('map'), {
				zoom: 14,
				center: {
					lat: -37.8136,
					lng: 144.9631
				}
			});
			 
      infoWindow = new google.maps.InfoWindow;

        // Try HTML5 geolocation.
        if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition(function(position) {
            var pos = {
              lat: position.coords.latitude,
              lng: position.coords.longitude
            };

            infoWindow.setPosition(pos);
            infoWindow.setContent('Location found.');
            infoWindow.open(map);
            map.setCenter(pos);
          }, function() {
            handleLocationError(true, infoWindow, map.getCenter());
          });
        } else {
          // Browser doesn't support Geolocation
          handleLocationError(false, infoWindow, map.getCenter());
        }
			
			
			
				// Location of Car 1
			var car1 = {
				lat: -37.813361,
				lng: 144.955694
			};
			var car2 = {
				lat: -37.809206,
				lng: 144.965309
			};
			var car3 = {
				lat: -37.811295,
				lng: 144.969483
			};
			var car4 = {
				lat: -37.817952,
				lng: 144.955743
			};
			var car5 = {
				lat: -37.807440,
				lng: 144.958671
			};
			var car6 = {
				lat: -37.817080,
				lng: 144.958337
			};
			var car7 = {
				lat: -37.806870,
				lng: 144.973861
			};
			// The markers
			var image = '25_f_logo.png'
			var marker = new google.maps.Marker({
				position: car1,
				map: map,
				icon: image
			});

			var marker2 = new google.maps.Marker({
				position: car2,
				map: map,
				icon: image
			});
			
			var marker3 = new google.maps.Marker({
				position: car3,
				map: map,
				icon: image
			});
			
			var marker4 = new google.maps.Marker({
				position: car4,
				map: map,
				icon: image
			});
			
			var marker5 = new google.maps.Marker({
				position: car5,
				map: map,
				icon: image
			});
			
			var marker6 = new google.maps.Marker({
				position: car6,
				map: map,
				icon: image
			});
			
			var marker7 = new google.maps.Marker({
				position: car7,
				map: map,
				icon: image
			});
		}
		
		 function handleLocationError(browserHasGeolocation, infoWindow, pos) {
        infoWindow.setPosition(pos);
        infoWindow.setContent(browserHasGeolocation ?
                              'Error: The Geolocation service failed.' :
                              'Error: Your browser doesn\'t support geolocation.');
        infoWindow.open(map);
      }
	</script>
	<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCKdevCkaionH2BkWdR8ELUyuYvES7TdzM&callback=initMap" async defer>
	</script>
    {% if user.is_authenticated %}
      <div>Welcome {{ user.username }}!</div>
    {% else %}
      <h3>Welcome!</h3>
      <div>You are not currently logged in.</div>
    {% endif %}
  
{% endblock %}